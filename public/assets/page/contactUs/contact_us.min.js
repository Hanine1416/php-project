$(document).ready(function(){var a,i=$("#contact_form"),s=$("#contact_us_email"),r=$("#contact_us_phone"),l=$("#contact_us_country"),o=$("#institutions"),d=$("input#other_institution"),c=$("#btn-other-institution"),p=$("#contact_institution_block"),h=$("#contact_us_institution"),u=$("#more_details"),e=$("#contact_us_subject"),v=$("#recaptcha");setTimeout(function(){a=grecaptcha.render("recaptcha",{sitekey:captchaSite,callback:reCaptchaVerify})},2e3),l.select2({placeholder:"",dropdownParent:l.parent()}),o.select2({placeholder:"",dropdownParent:o.parent()}),e.select2({placeholder:"",dropdownParent:e.parent()}),l.change(function(){var e,t=$(this).data("institutions")+"/institutions";e=$(this).find("option:selected").text(),t=t,o.find("option:not([disabled])").remove(),o.addClass("s2-loading-data"),$.post(t,{country:e},function(e){if(p.find(".warning").removeClass("warning"),p.find(".error").remove(),!0===e.status){if(0<o.length){o.next().show(),d.hide(),c.show(),c.text(c.data("other"));var t,a=!0;for(t in e.results){var n=new Option;n.text=e.results[t].name,n.value=e.results[t].name,n.selected=h.data("preselect-id")===t,h.data("preselect-id")===t&&(a=!1),o.append(DOMPurify.sanitize(n))}200<Object.keys(e.results).length&&isIE()&&o.select2({minimumInputLength:2}),a&&void 0!==h.data("preselect-name")&&0<h.data("preselect-name").length&&(o.next().hide(),d.show(),d.val(h.data("preselect-name")),c.text(c.data("cancel")),c.show(),h.data("preselect-name","")),h.data("preselect-id","")}}else o.next().hide(),d.show(),d.val(h.data("preselect-name")),c.hide(),h.data("preselect-name","");o.removeClass("s2-loading-data")}),0<r.val().length&&validatePhoneNumber(r,$(this).find("option:selected").data("st"))}),c.on("click",function(){p.find(".warning").removeClass("warning"),p.find(".error").remove(),o.next().is(":visible")?(o.next().hide(),o.find("option[disabled]").prop("selected",!0),d.show(),$(this).text(c.data("cancel"))):(o.next().show(),d.val("").hide(),$(this).text(c.data("other")))}),$.each(i.find("select"),function(e,t){var a=DOMPurify.sanitize($(t).attr("placeholder")),n=0<$(this).find('option[selected="selected"]').length?"":"selected";$(t).prepend('<option data-real="'+a+'" disabled '+n+">"+a+"</option>")}),null!==l.val()&&l.trigger("change"),s.keyup(function(){null!==$(this).val()&&"undefined"!==$(this).val()&&""!==$(this).val()&&($(this).hasClass("warning")&&$(this).removeClass("warning"),$(this).parent().find(".error").remove()),isMailValid(s.val(),$(this).parent())}),$("#submitContact").on("click",function(e){e.preventDefault();e=i.find(".validate");e.removeClass("warning"),i.find(".error").remove();var n=!0;$.each(e,function(e,t){var a;null!==$(t).val()&&"undefined"!==$(t).val()&&""!==$(t).val()||!($(t).is(":visible")&&!$(t).is("select")||$(t).is("select")&&$(t).next().is(":visible"))||$(t).hasClass("empty")||(a=DOMPurify.sanitize($(t).prop("title")),$(t).addClass("warning").parent().append('<span class="error">'+a+"</span>"),n=!1)}),null!=u.val()&&"undefined"!=u.val()&&""!=u.val()&&(n=!1);var t,e=isMailValid(s.val(),s.parent());n=n&&e,r.val()&&l.val()?(t=validatePhoneNumber(r,l.find("option:selected").data("st")),n=n&&t):r.removeClass("warning").parent().find("error").remove(),0<v.length&&!checkReCaptcha(a)?(t=DOMPurify.sanitize($("#error_captcha").text()),v.parent().append('<span class="error">'+t+"</span>"),n=!1):$("#recaptcha").parent().find(".error").remove(),n&&(d.is(":visible")?(h.val(d.val()),d.prop("disabled",!0)):(h.val(o.val()),o.prop("disabled",!0)),i.submit()),$("input:not(#contact_us_email).validate,select.validate,textarea.validate").on("keyup change ",function(){var e;$(this).val()?$(this).removeClass("warning").parent().find(".error").remove():(e=DOMPurify.sanitize($(this).prop("title")),$(this).hasClass("warning")||$(this).addClass("warning").parent().append('<span class="error">'+e+"</span>"))})}),r.on("keyup",function(e){$(this).val()?l.val()&&validatePhoneNumber(r,l.find("option:selected").data("st")):$(this).removeClass("warning").parent().find(".error").remove()}),$("[data-maxlength]").on("keypress",function(e){var t=$(this).data("maxlength"),a=$(this);a.val().length===t&&(e.preventDefault(),a.addClass("warning"),setTimeout(function(){a.removeClass("warning")},2e3))}),$(window).on("resize load",function(){$(this).width()<575?$.each($("form .input-field"),function(e,t){var a=$(t).find("label"),n=$(t).find("input"),i=$(t).find("select"),t=$(t).find("textArea");$.each([t,i,n],function(e,t){0<$(t).length&&$(t).is("select")&&(t=$(t).find("option:disabled"),$(t).text(a.text()))})}):$.each($("form .input-field"),function(e,t){var a=$(t).find("label"),n=$(t).find("input"),i=$(t).find("select"),t=$(t).find("textArea");$.each([t,i,n],function(e,t){var a;0<$(t).length&&($(t).is("select")?(a=$(t).find("option:disabled"),$(a).text($(a).data("real"))):$(t).prop("placeholder",""))}),a.removeClass("hidden")})})});