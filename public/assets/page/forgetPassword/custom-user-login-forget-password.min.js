function renderFpRecaptchaOn(){return grecaptcha.render("fpRecaptcha",{sitekey:captchaSite,callback:reCaptchaVerify})}function checkReCaptchaRP(e){return 0!==grecaptcha.getResponse(e).length}$(document).ready(function(){var n=$("#reset-password-recaptcha"),t=!n.hasClass("hide"),o=!1;$(".login-modal");setTimeout(function(){t&&(o=renderFpRecaptchaOn())},1e3);var i=$("#custom-forget-password"),l=$("#forget-password-email-field"),c=i.find("#email"),d=$(".login-modal");i.submit(function(e){var a=!0;e.preventDefault(),c.removeClass("warning");var r=i.find(".log-forgot-custom"),e=c.val();i.find(".error").remove(),t&&!checkReCaptchaRP(o)&&(showErrorBox($("#error_captcha").text()),a=!1);var a=isMailValid(e,l)&&a,s=d.find(".success-email");a&&!i.hasClass("loading")&&(r.addClass("loading"),d.addClass("readOny"),$.post(i.attr("action"),i.serializeArray()).done(function(e){e.result&&(t?(t=!1,n.addClass("hide"),grecaptcha.reset(o)):!0===e.recaptcha&&(t=!0,n.removeClass("hide"),!1===o&&(o=renderFpRecaptchaOn()))),c.val(""),r.removeClass("loading"),d.removeClass("readOnly"),$("#forget-content").addClass("hidden"),s.removeClass("hidden")}).fail(function(e){showErrorBox($("#error").text()),r.removeClass("loading"),d.removeClass("readOnly")})),c.keyup(function(){null!==$(this).val()&&"undefined"!==$(this).val()&&""!==$(this).val()&&($(this).hasClass("warning")&&$(this).removeClass("warning"),l.find(".error").remove()),isMailValid(c.val(),l)})}),$("#close-login-modal,#back-login").on("click",function(){grecaptcha.reset(o)})});