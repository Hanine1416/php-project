$(document).ready(function(){var i;$("#reset-account-pass-btn").on("click",function(a){a.preventDefault(),$(".updatePassword").addClass("disableHref"),function(s){(d=$(".block")).find(".warning").removeClass("warning"),d.find(".error").remove();var a,e,r=s.closest("form"),t=!0;d=0<$("#change_password_form_oldPassword").length?[$("#change_password_form_oldPassword"),a=$("#change_password_form_password_first"),e=$("#change_password_form_password_second")]:[a=$("#resetting_form_password_first"),e=$("#resetting_form_password_second")],$.each(d,function(a,s){var e;null!==$(s).val()&&"undefined"!==$(s).val()&&""!==$(s).val()||(e=DOMPurify.sanitize($(s).prop("title")),$(s).addClass("warning").parent().append('<span class="error" style="position: relative;">'+e+"</span>"),t=!1)}),0<l.length&&!checkReCaptcha(i)&&(o=DOMPurify.sanitize($("#error_captcha").text()),l.parent().append('<span class="error">'+o+"</span>"),t=!1);var o,n,d=a.val().score;a.val()!==e.val()&&""!==a.val()&&""!==e.val()?(t=!1,o=DOMPurify.sanitize($("#resetPassWrong").text()),$(e).addClass("warning").parent().append(sanitizeHTML('<span class="error" style="position: relative;">'+o+"</span>"))):0<a.val().length&&d<2&&(n=DOMPurify.sanitize(a.data("error")),$(a).addClass("warning").parent().append(DOMPurify.sanitize('<span class="error" style="position: relative;">'+n+"</span>")),t=!1),t?0<$("#change_password_form_oldPassword").length?(n=r.serializeArray(),$.ajax({url:r.attr("action"),method:"POST",data:n,dataType:"JSON",beforeSend:function(){s.addClass("loading")},success:function(a){a.success?window.location=r.attr("action"):showErrorBox(a.message),s.removeClass("loading"),$(".updatePassword").removeClass("disableHref")}})):s.closest("form").submit():$(".updatePassword").removeClass("disableHref")}($(this))}),$(".resetArea input.password").on("keyup",function(){$(".ps-st-meter-wrapper").removeClass("hide");var a=$(this).val(),s=$("#ps-st-meter-container");switch(zxcvbn(a).score){case 1:s.removeClass().css("width","25%").addClass("pwd-bad");break;case 2:s.removeClass().css("width","50%").addClass("pwd-medium");break;case 3:s.removeClass().css("width","75%").addClass("pwd-good");break;case 4:s.removeClass().css("width","100%").addClass("pwd-good");break;default:s.removeClass().css("width",0===a.length?"0%":"25%").addClass("pwd-bad")}});var l=$("#regRecaptcha");setTimeout(function(){0<l.length&&(i=grecaptcha.render("regRecaptcha",{sitekey:captchaSite,callback:reCaptchaVerify}))},300)});